<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Triumph ‚Äì Das Amulett von Arithma</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Crimson Text', serif;
      background: url('ende.png') no-repeat center center fixed, linear-gradient(135deg, #0f1419 0%, #1a2332 25%, #2d1810 50%, #1a2332 75%, #0f1419 100%);
      background-size: cover;
      min-height: 100vh;
      color: #d4af37;
      margin: 0;
      padding: 0;
      position: relative;
      overflow-x: hidden;
    }
    .triumph-container {
      max-width: 850px;
      margin: 0 auto;
      padding: 30px 15px 70px 15px;
      min-height: 100vh;
      text-align: center;
      position: relative;
      z-index: 2;
    }
    .title {
      font-family: 'Cinzel', serif;
      font-size: 3em;
      font-weight: 700;
      color: #ffd700;
      text-shadow: 0 0 30px #d4af37, 0 0 50px #ffd700, 0 0 80px #fff8c1;
      margin-bottom: 30px;
      letter-spacing: 3px;
      animation: shimmer 3s infinite alternate;
    }
    @keyframes shimmer {
      0% { color: #ffd700; }
      50% { color: #fff8c1; text-shadow: 0 0 60px #ffd700, 0 0 30px #fff; }
      100% { color: #ffd700; }
    }
    .amulet-container {
      position: relative;
      margin-bottom: 35px;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 270px;
    }
    .magic-circle {
      position: absolute;
      left: 50%;
      top: 52%;
      transform: translate(-50%, -50%);
      width: 340px;
      height: 340px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255,215,0,0.12) 0%, rgba(255,215,0,0.05) 70%, rgba(44,24,16,0.01) 100%);
      box-shadow: 0 0 70px 40px #ffd70066, 0 0 20px 5px #ffd70044;
      border: 4px dashed #ffd70077;
      z-index: 1;
      animation: rotateCircle 14s linear infinite;
      pointer-events: none;
    }
    @keyframes rotateCircle {
      0% { transform: translate(-50%, -50%) rotate(0deg);}
      100% { transform: translate(-50%, -50%) rotate(360deg);}
    }
    .amulet {
      width: 200px;
      height: 200px;
      object-fit: contain;
      border-radius: 50%;
      border: 6px solid #ffd700;
      background: radial-gradient(circle, #fffbe7 70%, #ffd700 100%);
      box-shadow: 0 0 30px 12px #ffd70099, 0 0 100px 15px #fff7b355;
      cursor: pointer;
      transition: transform 0.3s cubic-bezier(.23,1.02,.57,.98), box-shadow 0.3s;
      position: relative;
      z-index: 2;
      animation: floating 3s infinite alternate;
    }
    .amulet.clicked {
      animation: shake 0.7s;
      transform: scale(1.07) rotate(10deg);
      box-shadow: 0 0 100px 30px #fff7b3cc, 0 0 200px 60px #ffd700dd;
      border-color: #fff;
    }
    @keyframes floating {
      0% { transform: translateY(0);}
      100% { transform: translateY(-14px);}
    }
    @keyframes shake {
      0% { transform: scale(1) rotate(0);}
      20% { transform: scale(1.1) rotate(-5deg);}
      40% { transform: scale(1.13) rotate(6deg);}
      60% { transform: scale(1.15) rotate(-4deg);}
      80% { transform: scale(1.18) rotate(7deg);}
      100% { transform: scale(1.07) rotate(10deg);}
    }
    .sparkles {
      position: absolute;
      left: 50%; top: 52%;
      transform: translate(-50%, -50%);
      width: 340px; height: 340px;
      pointer-events: none;
      z-index: 3;
    }
    .sparkle {
      position: absolute;
      width: 16px; height: 16px;
      background: radial-gradient(circle, #fff 60%, #ffd700 100%, #fff0 100%);
      border-radius: 50%;
      opacity: 0.7;
      animation: sparkleFly 3s infinite;
    }
    @keyframes sparkleFly {
      0% { opacity: 0; transform: scale(0.2);}
      50% { opacity: 1; transform: scale(1.15);}
      100% { opacity: 0; transform: scale(0.3);}
    }
    .call-to-action {
      font-size: 1.3em;
      color: #ffe87d;
      font-family: 'Cinzel', serif;
      margin-bottom: 35px;
      text-shadow: 0 0 9px #ffd700, 0 0 5px #fff8c1;
      animation: pulse 2.5s infinite;
    }
    @keyframes pulse {
      0%, 100% { color: #ffe87d; text-shadow: 0 0 7px #ffd700;}
      50% { color: #fff8c1; text-shadow: 0 0 20px #ffd700, 0 0 7px #fff8c1;}
    }
    .return-btn {
      display: inline-block;
      margin: 35px auto 0 auto;
      padding: 16px 44px;
      border-radius: 16px;
      font-size: 1.3em;
      font-family: 'Cinzel', serif;
      background: linear-gradient(45deg, #4b0082 0%, #9400d3 50%, #4b0082 100%);
      color: #fff;
      text-decoration: none;
      font-weight: 600;
      border: 3px solid #ffd700;
      box-shadow: 0 0 20px 5px #d4af3766;
      transition: background 0.2s, box-shadow 0.2s;
    }
    .return-btn:hover {
      background: linear-gradient(45deg, #2e003e 0%, #5a00b2 100%);
      box-shadow: 0 0 40px 10px #ffd700cc;
    }
    @media (max-width: 600px) {
      .amulet-container, .magic-circle, .sparkles { width: 200px; height: 200px; }
      .magic-circle, .sparkles { left: 50%; top: 53%; }
      .amulet { width: 120px; height: 120px; }
      .magic-circle, .sparkles { width: 160px; height: 160px; }
    }
  </style>
</head>
<body>
  <div class="triumph-container">
    <h1 class="title">‚ú® TRIUMPH ‚ú®</h1>
    <div class="amulet-container">
      <div class="magic-circle"></div>
      <div class="sparkles" id="sparkles"></div>
      <img 
        src="amulett.png" 
        alt="Das magische Amulett von Arithma" 
        class="amulet" 
        id="amulet"
        onclick="activateAmulet()"
      >
    </div>
    <div class="call-to-action">
      ‚öú Ber√ºhrt das legend√§re Amulett von Arithma ‚öú
      <br>
      <em>und erweckt seine uralte Magie zum Leben...</em>
    </div>
  </div>
  <a href="index.html" class="return-btn">üè† Neues Abenteuer beginnen</a>
  <script>
    let amuletActivated = false;
    let audioCtx, melodyBuffer, textBuffer, melodySource, textSource, melodyGain, textGain;

    function createSparkles() {
      const sparklesContainer = document.getElementById('sparkles');
      const numSparkles = 13;
      for (let i = 0; i < numSparkles; i++) {
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        const angle = (i / numSparkles) * 360;
        const radius = 130 + Math.random() * 25;
        const x = 50 + Math.cos(angle * Math.PI / 180) * radius;
        const y = 50 + Math.sin(angle * Math.PI / 180) * radius;
        sparkle.style.left = x + 'px';
        sparkle.style.top = y + 'px';
        sparkle.style.animationDelay = Math.random() * 3 + 's';
        sparklesContainer.appendChild(sparkle);
      }
    }
    function createExtraSparkles() {
      const container = document.getElementById('sparkles');
      for (let i = 0; i < 20; i++) {
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        sparkle.style.left = Math.random() * 100 + '%';
        sparkle.style.top = Math.random() * 100 + '%';
        sparkle.style.animationDuration = '1s';
        sparkle.style.background = `hsl(${Math.random() * 60 + 30}, 100%, 70%)`;
        container.appendChild(sparkle);
        setTimeout(() => {
          if (sparkle.parentNode) sparkle.parentNode.removeChild(sparkle);
        }, 1000);
      }
    }

    async function loadAudio(url) {
      const response = await fetch(url);
      const arrayBuffer = await response.arrayBuffer();
      return await audioCtx.decodeAudioData(arrayBuffer);
    }
    async function playTriumphAudio() {
      try {
        if (melodySource) { melodySource.stop(); melodySource.disconnect(); }
        if (textSource) { textSource.stop(); textSource.disconnect(); }
      } catch(e) {}
      if (audioCtx) { try { audioCtx.close(); } catch(e){} }
      audioCtx = new (window.AudioContext || window.webkitAudioContext)();

      [melodyBuffer, textBuffer] = await Promise.all([
        loadAudio('ende.mp3'),
        loadAudio('text_ende.mp3')
      ]);
      melodySource = audioCtx.createBufferSource();
      melodySource.buffer = melodyBuffer;
      melodySource.loop = false;
      melodyGain = audioCtx.createGain();
      melodyGain.gain.value = 0.5;
      melodySource.connect(melodyGain).connect(audioCtx.destination);
      melodySource.start();

      setTimeout(() => {
        textSource = audioCtx.createBufferSource();
        textSource.buffer = textBuffer;
        textSource.loop = false;
        textGain = audioCtx.createGain();
        textGain.gain.value = 0.96;
        textSource.connect(textGain).connect(audioCtx.destination);
        textSource.start();
      }, 4000);
    }

    function activateAmulet() {
      if (amuletActivated) return;
      amuletActivated = true;
      const amulet = document.getElementById('amulet');
      amulet.classList.add('clicked');
      createExtraSparkles();
      playTriumphAudio();
    }

    document.addEventListener('DOMContentLoaded', function() {
      createSparkles();
      // Bild-Fallback f√ºr amulett.png
      const amuletImg = document.getElementById('amulet');
      amuletImg.onerror = function() {
        this.style.background = 'radial-gradient(circle, #ffd700 0%, #d4af37 50%, #8b4513 100%)';
        this.style.display = 'flex';
        this.style.alignItems = 'center';
        this.style.justifyContent = 'center';
        this.style.fontSize = '4em';
        this.innerHTML = 'üíé';
      };
    });
  </script>
</body>
</html>

